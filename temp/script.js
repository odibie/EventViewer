

var useDev = false;
var qController = new QInterface(useDev);

$(document).ready(function(){
	qController.init();

	var query_submit = function(type) {
		
		if($("#query_container").is(":visible")){
			$("#results_container").children(":not(#tb_container)").remove();
			
			//result_data =[{"[Gulf of Maine].[Coastal].[Western Maine Shelf].[B].[1-20]":{"[TimeFilter].[2001]":{"[Ocean].[Sigma-Tdensity].[Threshold].[Mixed125]":[["2001-10-09 07:55:12.0","2001-10-11 07:55:12.0","0.376"],["2001-11-03 19:55:12.0","2001-11-04 03:07:12.0","0.008"],["2001-11-06 06:00:00.0","2001-11-25 09:07:12.0","0.542"],["2001-11-29 11:02:24.0","2001-12-14 18:57:36.0","0.348"],["2001-12-14 19:55:12.0","2001-12-18 04:04:48.0","-9999.0"],["2001-12-18 05:02:24.0","2001-12-24 21:07:12.0","0.419"],["2001-12-25 10:04:48.0","2002-01-22 07:55:12.0","0.352"]]}}},{"[Gulf of Maine].[Coastal].[Western Maine Shelf].[B].[1-20]":{"[TimeFilter].[2002]":{"[Ocean].[Sigma-Tdensity].[Threshold].[Mixed125]":[["2002-01-22 13:55:12.0","2002-02-17 00:57:36.0","0.262"],["2002-02-17 11:02:24.0","2002-02-22 01:55:12.0","0.193"],["2002-02-22 12:57:36.0","2002-03-14 18:57:36.0","0.195"],["2002-03-15 23:02:24.0","2002-03-23 04:04:48.0","0.213"],["2002-03-24 06:00:00.0","2002-03-26 01:55:12.0","0.167"],["2002-03-26 15:07:12.0","2002-03-27 15:07:12.0","0.132"],["2002-03-27 16:04:48.0","2002-06-17 12:00:00.0","-9999.0"],["2002-10-01 17:02:24.0","2002-10-08 21:07:12.0","-9999.0"],["2002-10-15 21:07:12.0","2003-03-23 17:02:24.0","0.802"]]}}},{"[Gulf of Maine].[Coastal].[Western Maine Shelf].[B].[1-20]":{"[TimeFilter].[2003]":{"[Ocean].[Sigma-Tdensity].[Threshold].[Mixed125]":[["2003-03-31 18:57:36.0","2003-04-01 11:02:24.0","0.414"],["2003-04-13 00:57:36.0","2003-04-13 18:57:36.0","0.303"],["2003-04-14 23:02:24.0","2003-04-15 06:57:36.0","0.228"],["2003-04-18 05:02:24.0","2003-04-18 11:02:24.0","0.131"],["2003-04-28 00:00:00.0","2003-04-28 17:02:24.0","0.893"],["2003-05-17 00:00:00.0","2003-05-18 10:04:48.0","0.515"],["2003-05-25 09:07:12.0","2003-05-26 01:55:12.0","0.464"],["2003-10-25 06:57:36.0","2003-10-25 21:07:12.0","0.086"],["2003-11-15 00:00:00.0","2003-11-16 19:55:12.0","0.481"],["2003-11-21 21:07:12.0","2003-11-22 05:02:24.0","0.101"],["2003-11-26 06:57:36.0","2003-11-27 12:57:36.0","0.337"],["2003-11-29 23:02:24.0","2003-12-01 18:00:00.0","0.323"],["2003-12-02 01:55:12.0","2003-12-24 15:07:12.0","0.417"],["2003-12-26 18:00:00.0","2003-12-28 19:55:12.0","0.264"],["2003-12-29 04:04:48.0","2004-01-04 13:55:12.0","0.253"]]}}},{"[Gulf of Maine].[Coastal].[Western Maine Shelf].[B].[1-20]":{"[TimeFilter].[2004]":{"[Ocean].[Sigma-Tdensity].[Threshold].[Mixed125]":[["2004-01-05 10:04:48.0","2004-01-07 18:57:36.0","0.345"],["2004-01-08 18:00:00.0","2004-02-28 23:02:24.0","0.425"],["2004-02-29 13:55:12.0","2004-03-01 04:04:48.0","0.058"],["2004-03-09 03:07:12.0","2004-03-10 12:00:00.0","0.324"],["2004-03-12 00:00:00.0","2004-03-12 18:57:36.0","0.229"],["2004-03-14 04:04:48.0","2004-03-15 15:07:12.0","0.105"],["2004-03-17 06:57:36.0","2004-03-21 19:55:12.0","0.195"],["2004-03-22 18:00:00.0","2004-03-24 18:00:00.0","0.087"],["2004-04-02 04:04:48.0","2004-04-05 03:07:12.0","0.289"],["2004-04-13 19:55:12.0","2004-04-14 09:07:12.0","0.073"],["2004-04-16 10:04:48.0","2004-04-16 19:55:12.0","0.092"],["2004-10-13 01:55:12.0","2004-10-13 13:55:12.0","0.309"],["2004-10-23 00:57:36.0","2004-10-27 12:00:00.0","0.447"],["2004-10-30 04:04:48.0","2004-10-30 18:57:36.0","0.472"],["2004-11-04 07:55:12.0","2004-12-12 06:00:00.0","0.584"],["2004-12-18 05:02:24.0","2005-01-05 11:02:24.0","0.629"]]}}},{"[Gulf of Maine].[Coastal].[Western Maine Shelf].[B].[1-20]":{"[Time].[Month].\u0026[April]":{"[Ocean].[Sigma-Tdensity].[Threshold].[Mixed125]":[]}}}]
			result_data=[{"Gulf of Maine":{"[TimeFilter].[2001]":{"[Ocean].[Sigma-Tdensity].[Threshold].[Mixed125]":[["2001-10-09 07:55:12.0","2001-10-11 07:55:12.0","0.376"],["2001-11-03 19:55:12.0","2001-11-04 03:07:12.0","0.008"],["2001-11-06 06:00:00.0","2001-11-25 09:07:12.0","0.542"],["2001-11-29 11:02:24.0","2001-12-14 18:57:36.0","0.348"],["2001-12-14 19:55:12.0","2001-12-18 04:04:48.0","-9999.0"],["2001-12-18 05:02:24.0","2001-12-24 21:07:12.0","0.419"],["2001-12-25 10:04:48.0","2002-01-22 07:55:12.0","0.352"]]}}},{"Gulf of Maine":{"[TimeFilter].[2002]":{"[Ocean].[Sigma-Tdensity].[Threshold].[Mixed125]":[["2002-01-22 13:55:12.0","2002-02-17 00:57:36.0","0.262"],["2002-02-17 11:02:24.0","2002-02-22 01:55:12.0","0.193"],["2002-02-22 12:57:36.0","2002-03-14 18:57:36.0","0.195"],["2002-03-15 23:02:24.0","2002-03-23 04:04:48.0","0.213"],["2002-03-24 06:00:00.0","2002-03-26 01:55:12.0","0.167"],["2002-03-26 15:07:12.0","2002-03-27 15:07:12.0","0.132"],["2002-03-27 16:04:48.0","2002-06-17 12:00:00.0","-9999.0"],["2002-10-01 17:02:24.0","2002-10-08 21:07:12.0","-9999.0"],["2002-10-15 21:07:12.0","2003-03-23 17:02:24.0","0.802"]]}}},{"Gulf of Maine":{"[TimeFilter].[2003]":{"[Ocean].[Sigma-Tdensity].[Threshold].[Mixed125]":[["2003-03-31 18:57:36.0","2003-04-01 11:02:24.0","0.414"],["2003-04-13 00:57:36.0","2003-04-13 18:57:36.0","0.303"],["2003-04-14 23:02:24.0","2003-04-15 06:57:36.0","0.228"],["2003-04-18 05:02:24.0","2003-04-18 11:02:24.0","0.131"],["2003-04-28 00:00:00.0","2003-04-28 17:02:24.0","0.893"],["2003-05-17 00:00:00.0","2003-05-18 10:04:48.0","0.515"],["2003-05-25 09:07:12.0","2003-05-26 01:55:12.0","0.464"],["2003-10-25 06:57:36.0","2003-10-25 21:07:12.0","0.086"],["2003-11-15 00:00:00.0","2003-11-16 19:55:12.0","0.481"],["2003-11-21 21:07:12.0","2003-11-22 05:02:24.0","0.101"],["2003-11-26 06:57:36.0","2003-11-27 12:57:36.0","0.337"],["2003-11-29 23:02:24.0","2003-12-01 18:00:00.0","0.323"],["2003-12-02 01:55:12.0","2003-12-24 15:07:12.0","0.417"],["2003-12-26 18:00:00.0","2003-12-28 19:55:12.0","0.264"],["2003-12-29 04:04:48.0","2004-01-04 13:55:12.0","0.253"]]}}},{"Gulf of Maine":{"[TimeFilter].[2004]":{"[Ocean].[Sigma-Tdensity].[Threshold].[Mixed125]":[["2004-01-05 10:04:48.0","2004-01-07 18:57:36.0","0.345"],["2004-01-08 18:00:00.0","2004-02-28 23:02:24.0","0.425"],["2004-02-29 13:55:12.0","2004-03-01 04:04:48.0","0.058"],["2004-03-09 03:07:12.0","2004-03-10 12:00:00.0","0.324"],["2004-03-12 00:00:00.0","2004-03-12 18:57:36.0","0.229"],["2004-03-14 04:04:48.0","2004-03-15 15:07:12.0","0.105"],["2004-03-17 06:57:36.0","2004-03-21 19:55:12.0","0.195"],["2004-03-22 18:00:00.0","2004-03-24 18:00:00.0","0.087"],["2004-04-02 04:04:48.0","2004-04-05 03:07:12.0","0.289"],["2004-04-13 19:55:12.0","2004-04-14 09:07:12.0","0.073"],["2004-04-16 10:04:48.0","2004-04-16 19:55:12.0","0.092"],["2004-10-13 01:55:12.0","2004-10-13 13:55:12.0","0.309"],["2004-10-23 00:57:36.0","2004-10-27 12:00:00.0","0.447"],["2004-10-30 04:04:48.0","2004-10-30 18:57:36.0","0.472"],["2004-11-04 07:55:12.0","2004-12-12 06:00:00.0","0.584"],["2004-12-18 05:02:24.0","2005-01-05 11:02:24.0","0.629"]]}}},{"Gulf of Maine":{"[Time].[Month].\u0026[April]":{"[Ocean].[Sigma-Tdensity].[Threshold].[Mixed125]":[]}}}]
			r = new ResultsBuilder(result_data)
					r.build()
	
			
			$("#query_container").animate({width: 'toggle'})
			$("#results_container").animate({width: 'toggle', right: '20%'})
			//$("#continue").detach().appendTo('#tb_container')
			//$("#continue").slideDown();
	
			//var r = new ResultsBuilder(sample);
			//r.build()
		} else {
			$("#query_container").animate({width: 'toggle'})
			$("#results_container").animate({width: 'toggle',right: '20%'})
			//$("#continue").detach().appendTo('#qbutton')
			//$("#results_container").children().remove();
		}
		$("#continue").text(($("#continue").text() == "Query")?"Back":"Query");
	}
	
	$("#continue").click(function(){
		query_submit();
	});
})